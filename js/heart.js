window.requestAnimationFrame=window.__requestAnimationFrame||window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){var i=t.__lastTime;void 0===i&&(i=0);var a=Date.now(),n=Math.max(1,33-(a-i));window.setTimeout(e,n),t.__lastTime=a+n},window.isDevice=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test((navigator.userAgent||navigator.vendor||window.opera).toLowerCase());var loaded=!1,init=function(){if(!loaded){loaded=!0;var e=window.isDevice,t=e?.5:1,i=document.getElementById("heart"),a=i.getContext("2d"),n=i.width=t*innerWidth,r=i.height=t*innerHeight,o=Math.random;a.fillStyle="rgba(0,0,0,1)",a.fillRect(0,0,n,r);var d=function(e){return[Math.pow(Math.sin(e),3),-(15*Math.cos(e)-5*Math.cos(2*e)-2*Math.cos(3*e)-Math.cos(4*e))]},s=function(e,t,i,a,n){return[a+e[0]*t,n+e[1]*i]};window.addEventListener("resize",function(){n=i.width=t*innerWidth,r=i.height=t*innerHeight,a.fillStyle="rgba(0,0,0,1)",a.fillRect(0,0,n,r)});var c,l=e?20:50,h=[],w=e?.3:.1;for(c=0;c<2*Math.PI;c+=w)h.push(s(d(c),210,13,0,0));for(c=0;c<2*Math.PI;c+=w)h.push(s(d(c),150,9,0,0));for(c=0;c<2*Math.PI;c+=w)h.push(s(d(c),90,5,0,0));var f=h.length,m=[],v=[];for(c=0;c<f;c++){var u=o()*n,y=o()*r;v[c]={vx:0,vy:0,R:2,speed:o()+5,q:~~(o()*f),D:c%2*2-1,force:.2*o()+.7,f:"hsla(0,"+~~(40*o()+60)+"%,"+~~(60*o()+20)+"%,.3)",trace:[]};for(var g=0;g<l;g++)v[c].trace[g]={x:u,y:y}}var q=.4,M=.01,p=0,x=function(){var e=-Math.cos(p);for(function(e,t){for(c=0;c<h.length;c++)m[c]=[],m[c][0]=e*h[c][0]+n/2,m[c][1]=t*h[c][1]+r/2}(.5*(1+e),.5*(1+e)),p+=(Math.sin(p)<0?9:e>.8?.2:1)*M,a.fillStyle="rgba(0,0,0,.1)",a.fillRect(0,0,n,r),c=v.length;c--;){var t=v[c],d=m[t.q],s=t.trace[0].x-d[0],l=t.trace[0].y-d[1],w=Math.sqrt(s*s+l*l);for(10>w&&(.95<o()?t.q=~~(o()*f):(.99<o()&&(t.D*=-1),t.q+=t.D,t.q%=f,0>t.q&&(t.q+=f))),t.vx+=-s/w*t.speed,t.vy+=-l/w*t.speed,t.trace[0].x+=t.vx,t.trace[0].y+=t.vy,t.vx*=t.force,t.vy*=t.force,g=0;g<t.trace.length-1;){var u=t.trace[g],y=t.trace[++g];y.x-=q*(y.x-u.x),y.y-=q*(y.y-u.y)}for(a.fillStyle=t.f,g=0;g<t.trace.length;g++)a.fillRect(t.trace[g].x,t.trace[g].y,1,1)}window.requestAnimationFrame(x,i)};x()}},s=document.readyState;"complete"===s||"loaded"===s||"interactive"===s?init():document.addEventListener("DOMContentLoaded",init,!1);